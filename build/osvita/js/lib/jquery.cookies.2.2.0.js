/**
 * Copyright (c) 2005 - 2010, James Auldridge
 * All rights reserved.
 *
 * Licensed under the BSD, MIT, and GPL (your choice!) Licenses:
 *  http://code.google.com/p/cookies/wiki/License
 *
 */
 var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=function(){var e,t,o,i,n={expiresAt:null,path:"/",domain:null,secure:!1};return e=function(e){var t,o;return"object"!=typeof e||null===e?t=n:(t={expiresAt:n.expiresAt,path:n.path,domain:n.domain,secure:n.secure},"object"==typeof e.expiresAt&&e.expiresAt instanceof Date?t.expiresAt=e.expiresAt:"number"==typeof e.hoursToLive&&0!==e.hoursToLive&&((o=new Date).setTime(o.getTime()+60*e.hoursToLive*60*1e3),t.expiresAt=o),"string"==typeof e.path&&""!==e.path&&(t.path=e.path),"string"==typeof e.domain&&""!==e.domain&&(t.domain=e.domain),!0===e.secure&&(t.secure=e.secure)),t},t=function(t){return t=e(t),("object"==typeof t.expiresAt&&t.expiresAt instanceof Date?"; expires="+t.expiresAt.toGMTString():"")+"; path="+t.path+("string"==typeof t.domain?"; domain="+t.domain:"")+(!0===t.secure?"; secure":"")},o=function(){var e,t,o,i,n,r={},c=document.cookie.split(";");for(e=0;e<c.length;e+=1){o=(t=c[e].split("="))[0].replace(/^\s*/,"").replace(/\s*$/,"");try{i=decodeURIComponent(t[1])}catch(e){i=t[1]}if("object"==typeof JSON&&null!==JSON&&"function"==typeof JSON.parse)try{n=i,i=JSON.parse(i)}catch(e){i=n}r[o]=i}return r},i=function(){},i.prototype.get=function(e){var t,i,n=o();if("string"==typeof e)t=void 0!==n[e]?n[e]:null;else if("object"==typeof e&&null!==e){t={};for(i in e)void 0!==n[e[i]]?t[e[i]]=n[e[i]]:t[e[i]]=null}else t=n;return t},i.prototype.filter=function(e){var t,i={},n=o();"string"==typeof e&&(e=new RegExp(e));for(t in n)t.match(e)&&(i[t]=n[t]);return i},i.prototype.set=function(e,o,i){if("object"==typeof i&&null!==i||(i={}),void 0===o||null===o)o="",i.hoursToLive=-8760;else if("string"!=typeof o){if("object"!=typeof JSON||null===JSON||"function"!=typeof JSON.stringify)throw new Error("cookies.set() received non-string value and could not serialize.");o=JSON.stringify(o)}var n=t(i);document.cookie=e+"="+encodeURIComponent(o)+n},i.prototype.del=function(e,t){var o,i={};"object"==typeof t&&null!==t||(t={}),"boolean"==typeof e&&!0===e?i=this.get():"string"==typeof e&&(i[e]=!0);for(o in i)"string"==typeof o&&""!==o&&this.set(o,null,t)},i.prototype.test=function(){var e=!1;return this.set("cT","data"),"data"===this.get("cT")&&(this.del("cT"),e=!0),e},i.prototype.setOptions=function(t){"object"!=typeof t&&(t=null),n=e(t)},new i}(),window.jQuery&&function(e){e.cookies=jaaulde.utils.cookies;var t={cookify:function(t){return this.each(function(){var o,i,n,r=["name","id"],c=e(this);for(o in r)if(!isNaN(o)&&"string"==typeof(i=c.attr(r[o]))&&""!==i){c.is(":checkbox, :radio")?c.attr("checked")&&(n=c.val()):n=c.is(":input")?c.val():c.html(),"string"==typeof n&&""!==n||(n=null),e.cookies.set(i,n,t);break}})},cookieFill:function(){return this.each(function(){var t,o,i,n,r=["name","id"],c=e(this);for(o=function(){return!!(t=r.pop())};o();)if("string"==typeof(i=c.attr(t))&&""!==i){null!==(n=e.cookies.get(i))&&(c.is(":checkbox, :radio")?c.val()===n?c.attr("checked","checked"):c.removeAttr("checked"):c.is(":input")?c.val(n):c.html(n));break}})},cookieBind:function(t){return this.each(function(){var o=e(this);o.cookieFill().change(function(){o.cookify(t)})})}};e.each(t,function(t){e.fn[t]=this})}(window.jQuery);